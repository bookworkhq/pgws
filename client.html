<!doctype html>

<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" media="screen"/>
    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura-dark.css"
          media="screen and (prefers-color-scheme: dark)"/>

    <script>
        function init() {
            const log = document.getElementById("log")
            const socket = new WebSocket('ws://localhost:8080/ws');
            socket.addEventListener('message', event => {
                log.innerHTML += "<div>" + event.data + "</div>";
            });
        }
    </script>
</head>
<body onload="init()">
    Connect to your database and type:
    <div>
    <pre>select pg_notify('pgws', 'default,{"message": "hello, world"}');</pre>
    </div>
    <div id="log">
        <span>Messages</span>
    </div>
</body>
</html>
